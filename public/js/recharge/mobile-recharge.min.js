function setPlanAmount(e){}!function(e,r,a){e.mobileRecharge=function(){function e(){function e(e){var r=window.event?e.keyCode:e.which;return!(8==r||r==a||0==e.which?null:String.fromCharCode(r).match(/[^0-9]/))}function o(e){if(46==e.which)return!1;if(_selectd_mode=r('#form-data-card-recharge input[type="radio"]:checked').val(),_elem=e.data.elem_id,"mobile"==_elem?_sType=r("input[type=radio]:checked","#form-mobile-recharge").val():"datacard"==_elem?_sType=r("input[type=radio]:checked","#form-data-card-recharge").val():_sType="",r(".ai-inti").addClass("hide"),e.data.mdn?(_mdn=e.data.mdn,T=10):_mdn=r(this).val(),0==_mdn.length&&(r("#datacardrecharge-operator option:eq(0)").text("Select Operator"),r("#datacardrecharge-operator").val("")),9==_mdn.length&&(T=_mdn.length),++T,10==_mdn.length&&11==T){r(e.target).addClass("nobackspace");var a=e.target;r(".browse-plan-disable").addClass("hide"),r("#submit-loader").show(),r.ajax({url:"/recharge/mobile-recharge/get-operator-details-by-mdn",method:"post",dataType:"json",data:{mdn:_mdn,type:_sType,_csrf:r("input[name=_csrf]").val()},success:function(e){r("#mb-rechrge-plans").find("a").removeClass("disabled"),r("#submit-loader").hide(),r(a).removeClass("nobackspace");var o=e;if("success"==o.status){if(Object.keys(o.data).length>0){operator=o.data.transaction.transaction_data.operator_name,service=o.data.transaction.transaction_data.service,operator_value=o.data.transaction.transaction_data.operator,_circle=o.data.transaction.transaction_data.region_name,_circleAlias=o.data.transaction.transaction_data.region;var l=operator_value.split(" ").join("-");switch(_elem){case"datacard":r('#datacardrecharge-operator option[value="'+operator_value.toUpperCase()+'"]').attr("selected","selected"),r("#op-span").remove(),prePaidOperators=["MTSNET","RELNET","PHOTON"],postPaidOperators=["MTS","RELNET","PHOTON"],is_logo_required=!0,"prepaid"==_selectd_mode&&-1==r.inArray(operator_value,prePaidOperators)?is_logo_required=!1:"postpaid"==_selectd_mode&&-1==r.inArray(operator_value,postPaidOperators)&&(is_logo_required=!1),1==is_logo_required&&(r('<span id="op-span" class="input-group-addon operator"><i class="'+l.toLowerCase()+'"></i></span>').insertAfter("#datacardrecharge-service_number"),r("#datacardrecharge-service_number").parents(".form-group").addClass("operator-name"));break;default:r("#mobilerecharge-service_number").parents(".form-group").addClass("operator-name"),r("#mobilerecharge-operator").val(operator_value.toUpperCase()),r("#op-span").remove(),r('<span id="op-span" class="input-group-addon operator"><i class="'+l.toLowerCase()+'"></i></span>').insertAfter("#mobilerecharge-service_number")}"SPLTOP"==service&&r("#hidden_is_special").val(1),"ETOP"==service&&r("#hidden_is_special").val(0),r("#service_operator_alias").val(operator_value)}if(Object.keys(o.data).length>0)switch(circle_value=o.data.transaction.transaction_data.region,_elem){case"datacard":r('#datacardrecharge-circle option[value="'+circle_value.toUpperCase()+'"]').attr("selected","selected");break;default:r('#mobilerecharge-circle option[value="'+circle_value.toUpperCase()+'"]').attr("selected","selected")}Object.keys(o.data).length>0&&r("#service_circle").val(_circle),Object.keys(o.data).length>0&&r("#service_operator").val(operator),""!=o.data.operator_alias&&""!=o.data.circle_alias&&(rechargeMode=r("input[class=recharge_mode]:checked").val(),"prepaid"===rechargeMode&&m(_mdn,operator_value,_circleAlias,_circle))}}})}else r("#mobilerecharge-service_number").parents(".form-group").removeClass("operator-name"),r("#mobilerecharge-amount").parents(".form-group").removeClass("operator-name"),r("#mobilerecharge-amount").val(""),r("#mobilerecharge-operator").prop("selectedIndex",0),r("#mobilerecharge-operator").val()||(r("#mobilerecharge-operator").val(r("#mobilerecharge-operator option:first").val()),r("#op-span").remove(),r("#browseplan").removeClass("in"),r("#mobilerecharge-amount").val(""));return!1}function l(){var e=r("#mobilerecharge-operator").val(),a=r("#mobilerecharge-operator :selected").text(),o=r("#mobilerecharge-service_number").val(),l=r("#service_circle").val(),s=r("#mobilerecharge-circle :selected").val(),n=r("#mobilerecharge-operator").val().split(" ").join("-");r("#op-span").html('<i class="'+n.toLowerCase()+'"></i>'),r("#service_operator").val(a.toLowerCase()),""!=e&&""!=o&&""!=l&&""!=s&&m(o,e,s,l)}function s(){r(this).is(":checked")&&r("#mb-rechrge-plans").addClass("hide")}function n(e,a,o){_uniqueArray="",_records="",r(".ai-inti").addClass("hide"),r("#form-mobile-recharge, #form-data-card-recharge").find(".has-success").removeClass("has-success"),r("#form-mobile-recharge, #form-data-card-recharge").find(".has-error").removeClass("has-error"),r("#form-mobile-recharge, #form-data-card-recharge").find(".help-block").html("").removeClass("hide"),r("#op-span").addClass("hide"),r("#form-mobile-recharge, #form-data-card-recharge").find("input[type=text], textarea").val(""),"postpaid"===e&&r(".mobile-is-special").addClass("hide"),r.ajax({url:"/recharge/mobile-recharge/get-recharge-operator?mobplan="+e+"&op="+o,success:function(e){if(r("#submit-loader").css("display","none"),result=r.parseJSON(e),html='<option value="">Select Operator</option>',"success"==result.status){for(var l in result.data)result.data.hasOwnProperty(l)&&(html+="<option value='"+l+"'>"+result.data[l]+"</option>");r("#"+a).html(html),b(o+"recharge-service_number",o)}else r("#"+a).html(html)}})}function t(){var e=r("#landlinerecharge-operator").val();"MTNL"===e?(r(".bsnl-clearfix").removeClass("clearfix"),r(".addClearfix").removeClass("clearfix"),r("#bsnl-ll-services").addClass("hide"),r("#show-bsnl-ll-service-no").removeClass("hide"),r("#land-line-recharge-ca-number").removeClass("hide")):"BSNL"===e?(2!=r("#landlinerecharge-type").val()&&r(".bsnl-clearfix").addClass("clearfix"),r(".addClearfix").addClass("clearfix"),r("#bsnl-ll-services").removeClass("hide"),r("#show-bsnl-ll-service-no").addClass("hide"),r("#land-line-recharge-ca-number").addClass("hide")):(r(".bsnl-clearfix").removeClass("clearfix"),r(".addClearfix").removeClass("clearfix"),r("#bsnl-ll-services").addClass("hide"),r("#show-bsnl-ll-service-no").removeClass("hide"),r("#land-line-recharge-ca-number").addClass("hide")),-1!==r.inArray(e,fetchbill)?(r("#biller_bill_fetch a").text("Fetch Bill"),r("#biller_bill_fetch").show(),r("#lopn").addClass("operator-name"),r("#btn_bbfetch").removeClass("disabled")):(r("#biller_bill_fetch").hide(),r("#lopn").removeClass("operator-name"),r("#btn_bbfetch").addClass("disabled"))}function i(){error_flag=!1;var e=r("#landlinerecharge-account_number"),a=r("#landlinerecharge-service_number"),o=r("#landlinerecharge-type");if(""==e.val()&&(e.parents(".form-group").removeClass("has-success").addClass("has-error"),e.parents(".form-group").find(".help-block").html(_js_error_msg.recharge_ll_service_number_empty),error_flag=!0),""==o.val()&&(o.parents(".form-group").removeClass("has-success").addClass("has-error"),o.parents(".form-group").find(".help-block").html(_js_error_msg.recharge_ll_type_empty),o.siblings("#op-span").remove(),error_flag=!0),2==o.val()&&""==a.val()&&(a.parents(".form-group").removeClass("has-success").addClass("has-error"),a.parents(".form-group").find(".help-block").html(_js_error_msg.recharge_ll_account_number_empty),a.siblings("#op-span").remove(),error_flag=!0),!error_flag){var l=r(this);r(this).addClass("disabled"),formData=new FormData(r("#form-ll-recharge")[0]),r(".popup-loader").removeClass("hide"),r.ajax({url:"/recharge/land-line-recharge/fetch-biller-bill",method:"post",data:formData,contentType:!1,cache:!1,processData:!1,success:function(e){r(".popup-loader").addClass("hide"),l.removeClass("disabled"),result=r.parseJSON(e),"success"==result.status?(l.parents(".form-group").find(".help-block").text(""),l.parents(".form-group").find(".required").removeClass("has-error").addClass("has-success"),l.parent().siblings("input").val(result.amount)):l.parents(".form-group").find(".help-block").html("<p style='color: #f13a3e'>"+result.msg+"</p>")}})}}function c(){"2"==r(this).val()?(r(".bsnl-clearfix").removeClass("clearfix"),r("#show-bsnl-ll-service-no").removeClass("hide"),r(".addClearfix").removeClass("clearfix")):(r(".bsnl-clearfix").addClass("clearfix"),r(".addClearfix").addClass("clearfix"),r("#show-bsnl-ll-service-no").addClass("hide"))}function m(e,o,l,s){var n=r("input[class=recharge_mode]:checked").val();if("postpaid"===n)return!1;r(".browse-plan-disable").addClass("hide");var t=r("#form-mobile-recharge input[type='radio']:checked");return"postpaid"==t?!1:(r("#submit-loader").css("display","block"),_circelName=s.toUpperCase(),void r.ajax({url:"/recharge/mobile-recharge/get-recharge-plans?mdn="+e+"&operator_alias="+o+"&region_alias="+l,success:function(e){if(result=r.parseJSON(e),r(".customRechargePlans").remove(),result&&r("#submit-loader").css("display","none"),r("#mb-rechrge-plans").find("a").removeClass("disabled"),result.is_special!=a&&1==result.is_special?(r(".mobile-is-special").removeClass("hide"),r("#hidden_is_special").val("1")):r(".mobile-is-special").addClass("hide"),"success"==result.status){_selType=r("input[type=radio]:checked","#form-mobile-recharge").val(),"postpaid"==_selType?r("#mobilerecharge-amount").parents(".form-group").removeClass("operator-name"):r("#mobilerecharge-amount").parents(".form-group").addClass("operator-name"),r("#browse-plan-circle").html('<option value="'+_circelName+'">'+_circelName+"</option>"),r("#browse-plan-operators").html('<option value="">All Plans</option>'),r("#selected-mobile-operators").html('<option value="">'+r("#mobilerecharge-operator :selected").text()+"</option>"),planHtml=h(result.data,"Topup Plan");var l,s="";for(l in result.data)A=result.data,s+='<option value="'+l+'">'+l+"</option>";r("#browse-plan-options").html(s),r('select option[value="Topup Plan"]').attr("selected",!0)}else r("#browse-plan-circle").html('<option value=""></option>'),r("#browse-plan-options").html('<option value="">All Plans</option>'),r("#selected-mobile-operators").html('<option value=""></option>'),planHtml="",planHtml='<div class="well customRechargePlans"><p>Sorry! No Plan(s) available.</p></div>';if(r("div.all-plans, div.customRechargePlans").remove(),r("#customPlans").after(planHtml),r(".recharge-bills-home").height()){for(var n=document.querySelectorAll("div.flipcard.effect__click"),t=0,i=0,c=n.length;c>i;i++){var m=n[i];t++,_(m)}r(".browseplan .all-plans").niceScroll()}else r(".close-browse,.plan-rupee").click(function(){r(".browse-plan a.flip").hasClass("collapsed")||(r(".browse-plan a").trigger("click"),r("body,html").animate({scrollTop:0},"slow")),r("#browseplan").removeClass("in")});r(window).bind("resize load",function(){r(this).width()<767?r(".all-plans").getNiceScroll().remove():r(".all-plans").niceScroll()}),"jio"==o.toLowerCase()?(r("#mobilerecharge-amount").prop("readonly","readonly"),r("#mb-rechrge-plans").trigger("click"),r("#mobilerecharge-amount").closest(".required").removeClass("has-error"),val=r("#browse-plan-options").val(),r("#browse-plan-options").val(val).trigger("change")):r("#mobilerecharge-amount").prop("readonly","")}}))}function _(e){var r=document.getElementsByClassName("browse-flip"),a=document.getElementsByClassName("close-flip");document.getElementsByClassName("plan-flip");r[0]&&r[0].addEventListener("click",function(){var r=e.classList;r.contains("flipped")===!0?r.remove("flipped"):r.add("flipped")}),a[0]&&a[0].addEventListener("click",function(){var r=e.classList;r.contains("flipped")===!0?r.remove("flipped"):r.add("flipped")})}function d(){r("#mobilerecharge-service_number").parents(".form-group").removeClass("operator-name"),r("#mobilerecharge-amount").parents(".form-group").removeClass("operator-name"),_selected_mode=r(this).val(),"prepaid"===_selected_mode?r("#prepaid_amount_container").hasClass("hide")&&r("#prepaid_amount_container").removeClass("hide"):(r("#prepaid_amount_container").addClass("hide"),r("#mobilerecharge-amount").val(""))}function h(e,a){var o="";o=r(".recharge-bills-home").height()?'<div class="all-plans" style="height:'+r(".recharge-bills-home").height()+'px;overflow:hidden;outline:none;">':'<div class="all-plans">';var l;for(l in e)if(l===a||!e.hasOwnProperty(l))for(var s=0;s<e[l].length;s++)o+='<div class="well"><p>'+e[l][s].description+" : "+e[l][s].name+'</p>\n                            <div class="clearfix"></div><div class="row"><div class="col-xs-12 col-sm-8 col-md-6 col-lg-6">\n                            <div class="validity"> Validity : '+e[l][s].validity+" |  Talktime : â‚¹ "+e[l][s].talktime+' </div></div>\n                            <div class="col-xs-12 col-sm-4 col-md-3 col-lg-3 text-center pull-right"> <a href="javascript:setPlanAmount(\''+s+'\');" id="amount_'+s+'" data-plan="'+e[l][s].plan_id+'" data-amount="'+e[l][s].amount+'" class="setPlanAmount"><div class="plan-rupee plan-flip">'+e[l][s].amount+"</div></a> </div></div></div>";return o+="</div>"}function p(e){console.log(e);var a=h(A,e);r("div.all-plans, div.customRechargePlans").remove(),r("#customPlans").after(a);var o="";o=r(".recharge-bills-home").length>0?r(".flipcard").height()-r(".browseplan div:eq(0)").height()-r("#customPlans").height()-55:r(".browseplan").height()-r(".browseplan div:eq(0)").height()-r("#customPlans").height()-55,r(".all-plans").height(o),r(".browseplan .all-plans").niceScroll()}function u(){_selected_prepaid_amt=r(this).attr("data-amount"),_selected_plan_id=r(this).attr("id"),_is_disabled=r("#mb-rechrge-plans").find("a").hasClass("disabled"),r(".plans").each(function(){r(this).removeClass("active")}),r("#mobilerecharge-amount").val(_selected_prepaid_amt),r("#"+_selected_plan_id).addClass("active"),r("#mobilerecharge-amount").parents(".required").removeClass("has-error").addClass("has-success"),r("#mobilerecharge-amount").parents(".required").find(".help-block").html("")}function g(e){switch(_elem=e.data.elem_id,_dist_elem_id=e.data.dist_elem_id,_read_only_elem="",_conf_container="",operator_error_msg="",mdn_error_msg="",amount_error_msg="",amount_error_msg="",amount_min_error="",amount_max_error="",circle_error_msg="",mdn_length="",type_error_msg="",account_error_msg="",error_flag=!1,$circle="",$amount_min_limit=_ow_transaction_onetime_limit.min_amount,$type="",$account="",_elem){case"mobile":$mdn_no=r("#mobilerecharge-service_number"),$amount=r("#mobilerecharge-amount"),$operator=r("#mobilerecharge-operator"),_read_only_elem="mobilerecharge",_conf_container="mb_recharge_conf_container",$amount_max_limit=_ow_transaction_onetime_limit.mobile_recharge,operator_error_msg=_js_error_msg.recharge_mobile_operator_empty,mdn_error_msg=_js_error_msg.recharge_mobile_service_number_empty,amount_error_msg=_js_error_msg.recharge_mobile_amount_empty,amount_max_error=_js_error_msg.recharge_mobile_amount_max,amount_min_error=_js_error_msg.recharge_mobile_amount_min,mdn_length=_js_error_msg.recharge_mobile_service_number_length,r("#prepaid_amount_container").addClass("hide"),r("#mb-rechrge-plans").find("a").addClass("disabled");break;case"dc":$mdn_no=r("#datacardrecharge-service_number"),$amount=r("#datacardrecharge-amount"),$operator=r("#datacardrecharge-operator"),_read_only_elem="datacardrecharge",_conf_container="dc_recharge_conf_container",$amount_max_limit=_ow_transaction_onetime_limit.dc_recharge,operator_error_msg=_js_error_msg.recharge_datacard_operator_empty,mdn_error_msg=_js_error_msg.recharge_datacard_service_number_empty,amount_error_msg=_js_error_msg.recharge_datacard_amount_empty,amount_max_error=_js_error_msg.recharge_dc_amount_max,amount_min_error=_js_error_msg.recharge_dc_amount_min,mdn_length=_js_error_msg.recharge_datacard_number_length;break;case"dth":$mdn_no=r("#dthrecharge-service_number"),$amount=r("#dthrecharge-amount"),$operator=r("#dthrecharge-operator"),_read_only_elem="dthrecharge",_conf_container="dth_recharge_conf_container",$amount_max_limit=_ow_transaction_onetime_limit.dth_recharge,operator_error_msg=_js_error_msg.recharge_dth_operator_empty,mdn_error_msg=_js_error_msg.recharge_dth_service_number_empty,amount_error_msg=_js_error_msg.recharge_dth_amount_empty,amount_max_error=_js_error_msg.recharge_dth_amount_max,amount_min_error=_js_error_msg.recharge_dth_amount_min,mdn_length=_js_error_msg.recharge_dth_service_number_length;break;case"landline":"BSNL"==r("#landlinerecharge-operator").val()&&2!=r("#landlinerecharge-type").val()?($mdn_no=r("#landlinerecharge-account_number"),$account=r("#landlinerecharge-service_number"),mdn_error_msg=_js_error_msg.recharge_ll_account_number_empty,account_error_msg=_js_error_msg.recharge_ll_service_number_empty):($mdn_no=r("#landlinerecharge-service_number"),$account=r("#landlinerecharge-account_number"),mdn_error_msg=_js_error_msg.recharge_ll_service_number_empty,account_error_msg=_js_error_msg.recharge_ll_account_number_empty),$amount=r("#landlinerecharge-amount"),$operator=r("#landlinerecharge-operator"),$circle=r("#landlinerecharge-circle"),$type=r("#landlinerecharge-type"),_read_only_elem="landlinerecharge",_conf_container="ll_recharge_conf_container",$amount_max_limit=_ow_transaction_onetime_limit.ll_recharge,operator_error_msg=_js_error_msg.recharge_ll_operator_empty,type_error_msg=_js_error_msg.recharge_ll_type_empty,amount_error_msg=_js_error_msg.recharge_ll_amount_empty,amount_max_error=_js_error_msg.recharge_ll_amount_max,amount_min_error=_js_error_msg.recharge_ll_amount_min,circle_error_msg=_js_error_msg.recharge_ll_circle_empty,ca_number_error_msg=_js_error_msg.recharge_ll_ca_number_empty,ca_number_limit_error_msg=_js_error_msg.recharge_ll_ca_number_limit,mdn_length=_js_error_msg.recharge_ll_service_number_length;break;default:$mdn_no="",$amount="",$operator="",$type="",$account=""}"landlinerecharge"===_read_only_elem&&"MTNL"===$operator.val()&&($ca_number=r("#"+_read_only_elem+"-ca_number"),""===$ca_number.val()?(r(".field-landlinerecharge-ca_number").addClass("required"),$ca_number.parents(".required").removeClass("has-success").addClass("has-error"),$ca_number.parents(".required").find(".help-block").html(ca_number_error_msg),$ca_number.siblings("#op-span").remove(),error_flag=!0):$ca_number.val().length<parseInt(_ow_transaction_onetime_limit.ca_number_limit)&&(r(".field-landlinerecharge-ca_number").addClass("required"),$ca_number.parents(".required").removeClass("has-success").addClass("has-error"),$ca_number.parents(".required").find(".help-block").html(ca_number_limit_error_msg),$ca_number.siblings("#op-span").remove(),error_flag=!0)),"landlinerecharge"===_read_only_elem&&"BSNL"===$operator.val()&&(""==$type.val()&&($type.parents(".form-group").removeClass("has-success").addClass("has-error"),$type.parents(".form-group").find(".help-block").html(type_error_msg),error_flag=!0),""==$account.val()&&2==$type.val()&&($account.parents(".form-group").removeClass("has-success").addClass("has-error"),$account.parents(".form-group").find(".help-block").html(account_error_msg),error_flag=!0)),""==$mdn_no.val()&&($mdn_no.parents(".form-group").removeClass("has-success").addClass("has-error"),$mdn_no.parents(".form-group").find(".help-block").html(mdn_error_msg),$mdn_no.siblings("#op-span").remove(),error_flag=!0),$mdn_no.val().length<mdn_length&&"dthrecharge"!=_read_only_elem&&(error_flag=!0),""==$operator.val()&&($operator.parents(".required").removeClass("has-success").addClass("has-error"),$operator.parents(".required").find(".help-block").html(operator_error_msg),error_flag=!0),parseInt($amount.val())<parseInt($amount_min_limit)&&($amount.parents(".required").removeClass("has-success").addClass("has-error"),$amount.parents(".required").find(".help-block").html(amount_min_error),error_flag=!0),parseInt($amount.val())>parseInt($amount_max_limit)&&($amount.parents(".required").removeClass("has-success").addClass("has-error"),$amount.parents(".required").find(".help-block").html(amount_max_error),error_flag=!0),""==$amount.val()&&($amount.parents(".required").removeClass("has-success").addClass("has-error"),$amount.parents(".required").find(".help-block").html(amount_error_msg),error_flag=!0),""!=$circle&&""==$circle.val()&&($circle.parents(".required").removeClass("has-success").addClass("has-error"),$circle.parents(".required").find(".help-block").html(circle_error_msg),error_flag=!0),"landlinerecharge"===_read_only_elem&&($ca_number=r("#"+_read_only_elem+"-service_number"),0==$ca_number.val()&&10==$ca_number.val().length&&($ca_number.parents(".required").removeClass("has-success").addClass("has-error"),$ca_number.parents(".required").find(".help-block").html("Invalid "+$ca_number.data("number")),error_flag=!0)),"dthrecharge"===_read_only_elem&&($ca_number=r("#"+_read_only_elem+"-service_number"),0==$ca_number.val()&&12==$ca_number.val().length&&($ca_number.parents(".required").removeClass("has-success").addClass("has-error"),$ca_number.parents(".required").find(".help-block").html("Invalid "+$ca_number.data("number")),error_flag=!0)),error_flag||(""==$circle&&""!=$mdn_no.val()&&""!=$amount.val()&&""!=$operator.val()?(r("#submit-loader").show(),r("#"+_read_only_elem+"-service_number").attr("readonly",!0),r("#"+_read_only_elem+"-amount").attr("readonly",!0),r("#"+_read_only_elem+"-operator").attr("readonly",!0),r(this).parent("div").addClass("hide"),r("#"+_conf_container).removeClass("hide"),r(".heading-inner > h1").html("Review"),r("#submit-loader").hide()):$circle.val()!=a&&""!=$mdn_no.val()&&""!=$amount.val()&&""!=$operator.val()&&(r("#submit-loader").show(),r("#"+_read_only_elem+"-service_number").attr("readonly",!0),r("#"+_read_only_elem+"-amount").attr("readonly",!0),r("#"+_read_only_elem+"-operator").attr("readonly",!0),r("#"+_read_only_elem+"-circle").attr("readonly",!0),r(this).parent("div").addClass("hide"),r(".heading-inner > h1").html("Review"),r("#"+_conf_container).removeClass("hide"),r("#submit-loader").hide()),r(this).parents(".row").find(".steps li:eq(1) a").addClass("active"),r(".recharge-bills-home h1").html("Review")),"mobile"===_read_only_elem&&!1===error_flag&&(r("#mobilerecharge-service_number").attr("readonly","readonly"),r("#mobilerecharge-amount").attr("readonly","readonly"),r("#prepaid_amount_container").addClass("hide"),r("#mb-rechrge-plans").find("a").attr("disabled","disabled"))}function v(e){switch(r(this).parent("div").parent("div").addClass("hide"),r("#submit-loader").show(),selected_plan=r("#form-mobile-recharge input[type='radio']:checked"),"prepaid"==selected_plan&&r("#mb-rechrge-plans").find("a").removeClass("hide"),_elem=e.data.elem_id,_frm=e.data.frm,_read_only_elem="",$circle="",_frm){case"dth":_read_only_elem="dthrecharge";break;case"dc":_read_only_elem="datacardrecharge";break;case"landline":_read_only_elem="landlinerecharge";break;case"mobile":r("#mobilerecharge-service_number").attr("readonly",!1),r("#mobilerecharge-amount").attr("readonly",!1),r("#prepaid_amount_container").removeClass("hide"),r("#mb-rechrge-plans").find("a").removeClass("disabled"),_read_only_elem="mobilerecharge"}if(r(".heading-inner > h1").html("Recharge & PayBills"),r("#"+_read_only_elem+"-operator").parents(".form-group").removeClass("operator-name"),r("#"+_read_only_elem+"-service_number").attr("readonly",!1),r("#"+_read_only_elem+"-amount").attr("readonly",!1),r("#"+_read_only_elem+"-operator").attr("readonly",!1),"landline"===_frm&&r("#landlinerecharge-circle").attr("readonly",!1),r("#"+_elem).removeClass("hide"),r("#submit-loader").hide(),r(this).parents(".row").find(".steps li:eq(1) a").removeClass("active"),r(this).parents(".row").find(".steps li:eq(0) a").addClass("active"),r(".recharge-bills-home h1").html("Recharge & PayBills"),"jio"==r("#mobilerecharge-operator").val().toLowerCase()){r("#mobilerecharge-amount").prop("readonly","readonly"),r("#mb-rechrge-plans").trigger("click"),r("#mobilerecharge-amount").closest(".required").removeClass("has-error");var a=r("#browse-plan-options").val();r("#browse-plan-options").val(a).trigger("change")}}function b(e,a){var o=f.bind(r("#"+e));o(r("#"+e),a)}function f(e,o){if(_loginUser=r("#isUserLogin").html(),""==_loginUser)return _records="",!1;o?(_elem=o,_show=0):(_elem=e.data.elem_id,_show=e.data.show),_value=r(this).val();var l=r(this);r(this).siblings(".ai-inti").remove(),"mobile"==_elem?_sType=r("input[type=radio]:checked","#form-mobile-recharge").val():"datacard"==_elem?_sType=r("input[type=radio]:checked","#form-data-card-recharge").val():_sType="",_sType==a&&(_sType=""),"askmoney"==_elem&&(_elem="mobile"),""==_uniqueArray&&""==_records?r.ajax({url:"/recharge/mobile-recharge/get-unique-txn?type="+_elem+"&sType="+_sType,success:function(e){r("#submit-loader").hide(),result=r.parseJSON(e),"success"==result.status?C(_show,result.data,l,_elem):_records="No Records"}}):C(_show,_uniqueArray,l,_elem)}function C(e,a,o,l){var s='<div class="ai-inti hide"></div>';""!=a&&(o.parent().append(s),_uniqueArray=a,1==e&&(_uniqueHtml="<ul>",r(a).each(function(e,r){("ETOP"==r.vas_service||"POSTPAID"==r.vas_service||"DATACARD"==r.vas_service||"DATACARD_RECHARGE"==r.vas_service)&&r.unique_number.length>10?_mobNo=r.unique_number.substr(2):_mobNo=r.unique_number,_uniqueHtml+='<li class="unique" data-type="'+l+'" data-unique="'+e+'"><span class="operator pull-left"><i class="'+r.transaction.transaction_data.operator.toLowerCase()+'"></i></span><span class="opernumber pull-left">'+_mobNo+"</span></li>"}),_uniqueHtml+="</ul>",r(".ai-inti").html(_uniqueHtml),r(".ai-inti").removeClass("hide")))}function y(e,a,o,l){r("#mobilerecharge-service_number").val(e),r("#form-mobile-recharge").find(".required").removeClass("has-error").addClass("has-success"),r("#form-mobile-recharge").find(".form-group").find(".help-block").html(""),r("#mobilerecharge-amount").val(o),r("#mobilerecharge-plan").val(l),r("#mobilerecharge-operator").val(a),r("#mobilerecharge-service_number").next("#op-span").remove(),r('<span id="op-span" class="input-group-addon operator"><i class="'+a.toLowerCase()+'"></i></span>').insertAfter("#mobilerecharge-service_number"),r("#mobilerecharge-service_number").parents(".form-group").removeClass("has-error").addClass("operator-name"),_selType=r("input[type=radio]:checked","#form-mobile-recharge").val(),"postpaid"==_selType?r("#mobilerecharge-amount").parents(".form-group").removeClass("operator-name"):r("#mobilerecharge-amount").parents(".form-group").addClass("operator-name"),"jio"==a.toLowerCase()?r("#mobilerecharge-amount").prop("readonly","readonly"):r("#mobilerecharge-amount").prop("readonly","")}function k(e,a,o){r("#form-dth-recharge").find(".required").removeClass("has-error").addClass("has-success"),r("#form-dth-recharge").find(".form-group").find(".help-block").html(""),r("#dthrecharge-service_number").val(e),r("#dthrecharge-amount").val(o),r("#dthrecharge-operator").val(a)}function w(e,a,o,l,s){r("#form-ll-recharge").find(".required").removeClass("has-error").addClass("has-success"),r("#form-ll-recharge").find(".form-group").find(".help-block").html(""),r("#landlinerecharge-service_number").val(e),r("#landlinerecharge-amount").val(o),r("#landlinerecharge-operator").val(a),r("#landlinerecharge-circle").val(l),s&&r(s).each(function(e,a){"customer acc no."==a.type&&(r("#land-line-recharge-ca-number").removeClass("hide"),r("#landlinerecharge-ca_number").val(a.value))})}function $(e,a,o,l){r("#form-data-card-recharge").find(".required").removeClass("has-error").addClass("has-success"),r("#form-data-card-recharge").find(".form-group").find(".help-block").html(""),r("#datacardrecharge-circle").val(l.toUpperCase()),r("#datacardrecharge-service_number").val(e),r("#datacardrecharge-amount").val(o),r("#datacardrecharge-operator").val(a)}function N(e,a,o){r("#rechareg_number").val(e),r("#ask-talktime-friend").find(".required").removeClass("has-error").addClass("has-success"),r("#ask-talktime-friend").find(".form-group").find(".help-block").html(""),r("#askairtime-amount").val(o),r("#askairtime-operator").val(a)}function q(e){if(_elem_id=e.data.elem_id,"ll"==_elem_id){var a=r("#landlinerecharge-type").val();if($account=r("#landlinerecharge-service_number"),""==$account.val()&&2==a){var o=_js_error_msg.recharge_ll_service_number_empty;return $account.parents(".form-group").removeClass("has-success").addClass("has-error"),$account.parents(".form-group").find(".help-block").html(o),!1}$account.parents(".form-group").removeClass("has-error").addClass("has-success"),$account.parents(".form-group").find(".help-block").html(""),_loader_id=e.data.loader_id,r("#"+_loader_id).removeClass("hide")}else _loader_id=e.data.loader_id,r("#"+_loader_id).removeClass("hide")}function x(e){var a=e.data.id,o="landlinerecharge-"+a,l="",s=_js_error_msg.recharge_ll_account_number_length;l="type"==a?_js_error_msg.recharge_ll_type_empty:_js_error_msg.recharge_ll_account_number_empty,""==r("#"+o).val()?(r("#"+o).parents(".form-group").removeClass("has-success").addClass("has-error"),r("#"+o).parents(".form-group").find(".help-block").html(l)):"account_number"==a&&r("#"+o).val().length<s?setTimeout(function(){r("#"+o).parents(".form-group").removeClass("has-success").addClass("has-error"),r("#"+o).parents(".form-group").find(".help-block").html("Please enter valid Account No.")},100):(r("#"+o).parents(".form-group").removeClass("has-error").addClass("has-success"),r("#"+o).parents(".form-group").find(".help-block").html(""))}function j(){$mdn=r("#mobilerecharge-service_number"),$dth=r("#datacardrecharge-service_number");var a=r(".integerOnly");$mdn.on("keyup",{elem_id:"mobile"},o),$dth.on("keyup",{elem_id:"datacard"},o),a.on("keypress",{"default":!1},e),r("#mobilerecharge-operator").on("change",{"default":!1},l),r("#monbpostpaid").on("change",{"default":!1},s),r("#landlinerecharge-operator").on("change",{"default":!1},t),r("#landlinerecharge-type").on("change",{"default":!1},c),r(".recharge_mode").on("click",{"default":!1},d),r("#form-mobile-recharge .plans").on("click",{frm:"mobile",elem_id:"mb_recharge_sub_container"},u),r("#form-mobile-recharge #frm_btn_skip").on("click",{frm:"mobile",elem_id:"mb_recharge_sub_container"},v),r("#form-dth-recharge #frm_btn_skip").on("click",{frm:"dth",elem_id:"dth_recharge_sub_container"},v),r("#form-data-card-recharge #frm_btn_skip").on("click",{frm:"dc",elem_id:"dc_recharge_sub_container"},v),r("#form-ll-recharge #frm_btn_skip").on("click",{frm:"landline",elem_id:"ll_recharge_sub_container"},v),r("#button-mobile-recharge").on("click",{elem_id:"mobile",dist_elem_id:"mb_recharge_conf_container"},g),r("#button-dth-recharge").on("click",{elem_id:"dth",dist_elem_id:"dth_recharge_conf_container"},g),r("#button-dc-recharge").on("click",{elem_id:"dc",dist_elem_id:"dc_recharge_conf_container"},g),r("#button-ll-recharge").on("click",{elem_id:"landline",dist_elem_id:"ll_recharge_conf_container"},g),r("#button-mobile-confirm-recharge").on("click",{elem_id:"mobile",loader_id:"mb-rec-sub-loader"},q),r("#button-dth-confirm-recharge").on("click",{elem_id:"dth",loader_id:"dth-rec-sub-loader"},q),r("#button-ll-confirm-recharge").on("click",{elem_id:"ll",loader_id:"ll-rec-sub-loader"},q),r("#button-dc-confirm-recharge").on("click",{elem_id:"dc",loader_id:"dc-rec-sub-loader"},q),r("#button-el-confirm-recharge").on("click",{elem_id:"el",loader_id:"elc-rec-sub-loader"},q),r("#btn_bbfetch").on("click",i),r("#mobilerecharge-service_number").on("focusin",{elem_id:"mobile",show:1},f),r("#datacardrecharge-service_number").on("focusin",{elem_id:"datacard",show:1},f),r("#landlinerecharge-service_number").on("focusin",{elem_id:"landline",show:1},f),r("#dthrecharge-service_number").on("focusin",{elem_id:"dth",show:1},f),r("#landlinerecharge-type").on("blur",{id:"type"},x),r("#landlinerecharge-account_number").on("blur",{id:"account_number"},x)}if(r("#mobilerecharge-service_number").val()){var P={data:{elem_id:"mobile",mdn:r("#mobilerecharge-service_number").val()}};o(P)}else if(r("#datacardrecharge-service_number").val()){var P={data:{elem_id:"datacard",mdn:r("#datacardrecharge-service_number").val()}};o(P)}var T=0;r(document).on("keydown",".nobackspace",function(e){
    8==e.keyCode&&e.preventDefault()}),r(document).on("click","#mobprepaidd",function(){var e=r(this).val();r("#button-dc-recharge").html("Recharge Now"),r("#submit-loader").css("display","block");var a="datacardrecharge-operator";n(e,a,"datacard")}),r(document).on("click","#monbpostpaidd",function(){var e=r(this).val();r("#button-dc-recharge").html("Pay Now"),r("#submit-loader").css("display","block");var a="datacardrecharge-operator";n(e,a,"datacard")}),r(document).on("click",".recharge_mode",function(){r("#submit-loader").css("display","block");var e=r(this).val();"postpaid"==e?(r(".browse-plan").addClass("hide"),r("#button-mobile-recharge").html("Pay Now"),r(".browseplan ").hasClass("in")&&r(".close-browse.close-flip").trigger("click")):r("#button-mobile-recharge").html("Recharge Now");var a="mobilerecharge-operator";n(e,a,"mobile")});var A="";r(document).on("click",".plan-flip",function(){r(".flipcard").hasClass("flipped")?r(".flipcard").removeClass("flipped"):r(".flipcard").addClass("flipped")}),r(document).on("change","#browse-plan-options",function(){if(!r(this).parents().hasClass("askTalktimeChck")){var e=r(this).val().match(/Special Recharge/g);e?r("#hidden_is_special").val("1"):r("#hidden_is_special").val("0"),p(r(this).val())}}),r(document).on("change","#hidden_is_special",function(){var e="Topup Plan";1==r(this).val()&&(e="Special Recharge"),r("#browse-plan-options").val(e),p(e)}),r("body").click(function(e){e.originalEvent!==a&&(r(e.target).closest(".ai-inti").length||r(e.target).closest(".integerOnly").length||r(e.target).closest(".unique").length||r(".ai-inti").remove())}),_uniqueArray="",_records="",_vasservice="",_vasInnerPage=r(".recharge-bills .nav-tabs li.active a").attr("href"),_vasInnerPage!=a&&(_vasInnerPage=_vasInnerPage.substring(1),_vasservice="",_vasserviceName="","mobile-recharge"==_vasInnerPage?(_vasserviceName="mobile",_vasservice=_vasserviceName+"recharge-service_number"):"land-line-bill-payment"==_vasInnerPage?(_vasserviceName="landline",_vasservice=_vasserviceName+"recharge-service_number"):"dth-recharge"==_vasInnerPage?(_vasserviceName="dth",_vasservice=_vasserviceName+"recharge-service_number"):"data-card-recharge"==_vasInnerPage?(_vasserviceName="datacard",_vasservice=_vasserviceName+"recharge-service_number"):"ask-talktime"==_vasInnerPage?(_vasserviceName="mobile",_vasservice="rechareg_number"):("mobile"==_vasInnerPage||"landline"==_vasInnerPage||"dth"==_vasInnerPage||"datacard"==_vasInnerPage)&&(_vasserviceName=_vasInnerPage,_vasservice=_vasserviceName+"recharge-service_number"),b(_vasservice,_vasserviceName)),r(".recharge-bills-home .nav-tabs li a").click(function(){_vasLink=r(this).attr("href"),_vasS=_vasLink.substring(1),_uniqueArray="",_records="","gas"!=_vasS&&"electricity"!=_vasS&&"broadband"!=_vasS&&b(_vasS+"recharge-service_number",_vasS)}),r(document).on("click",".unique",function(){r(this).parents(".ai-inti").remove(),_fillData=r(this).attr("data-unique"),_type=r(this).attr("data-type"),""!=_uniqueArray&&r(_uniqueArray).each(function(e,o){e==_fillData&&(_mobNo=o.unique_number,("mobile"==_type||"datacard"==_type)&&_mobNo.length>10&&(_mobNo=_mobNo.substr(2)),r("#service_circle").val(o.transaction.transaction_data.region_name),_amt=o.transaction.transaction_data.amount,_plan="",r(o.transaction.service_entities).each(function(e,r){"plan_id"==r.type&&(_plan=r.value)}),_operatorName=o.transaction.transaction_data.operator.toUpperCase(),_serviceEntities=o.transaction.service_entities,_operatorAlisaName=o.transaction.transaction_data.operator_name.toLowerCase(),_browseCircleAlias=o.transaction.transaction_data.region.toLowerCase(),o.transaction.transaction_data.region_name!=a?_browseCircle=o.transaction.transaction_data.region_name:_browseCircle="",r("#service_operator_alias").val(_operatorName),r("#service_operator").val(_operatorAlisaName),"mobile"==_type?(m(_mobNo,_operatorName,_browseCircleAlias,_browseCircle),y(_mobNo,_operatorName,_amt,_plan)):"datacard"==_type?$(_mobNo,_operatorName,_amt,_browseCircleAlias):"landline"==_type?w(_mobNo,_operatorName,_amt,o.transaction.transaction_data.region,_serviceEntities):"dth"==_type&&k(_mobNo,_operatorName,_amt),"rechareg_number"==_vasservice&&N(_mobNo,_operatorName,_amt))}),t()}),this.init=function(){if(j(),r("#browseplan").length>0)var e=r(".offset-setter-browse").offset().top;else var e=0;if(r("#browseplan").addClass("collapse mar-bottom"),r("#browseplan").removeClass("hide"),r("#browseplan").removeClass("in"),!r("body").hasClass("home")){var o=r("header").height();r(".browse-plan a.flip").click(function(l){return l.originalEvent!==a&&(r("body,html").animate({scrollTop:e-o},"slow"),r(".browseplan .all-plans").niceScroll()),setTimeout(function(){r(".all-plans").css("height","")},500),r("#browseplan").addClass("in"),!1}),r(".close-browse,.plan-rupee").click(function(){r("body,html").animate({scrollTop:0},"slow"),r(".browse-plan a.flip").hasClass("collapsed")||(r(".browse-plan a").trigger("click"),r("body,html").animate({scrollTop:0},"slow")),r(".browseplan").hasClass("in")&&r(".browseplan").removeClass("in")})}}}return new e}(),r(document).ready(function(){e.mobileRecharge.init()})}(window.OXIGENWALLET=window.OXIGENWALLET||{},jQuery),$(document).on("click",".setPlanAmount",function(){$(".setPlanAmount").each(function(){$(this).removeClass("active")}),_amt=$(this).attr("data-amount"),_plan=$(this).attr("data-plan"),$(this).addClass("active"),$("#mobilerecharge-amount").val(_amt),$("#mobilerecharge-plan").val(_plan),$("#browseplan").removeClass("in"),$("#browseplan").attr("aria-expanded","false"),$("#mobilerecharge-amount").parents(".required").removeClass("has-error").addClass("has-success"),$("#mobilerecharge-amount").parents(".input-group").siblings(".help-block").html("")});